name: 🚽 Zachodo Pridavka
on:
  workflow_dispatch:
    inputs:
      filename:
        description: '<filename>.json'
        required: true
        default: '1665762044825'
      content:
        description: 'the json file content'
        required: true
        default: '{"latitude":"50.044601","longtitude":"15.822726","placeName":"U pípy","isClean":false,"hasPaper":false,"canLock":true,"hasWater":false,"isFree":true,"bonusCategory":[],"comment":"","nickName":"","timeStamp":"2022-10-14T15:40:44.825Z"}'

jobs:
  create_json:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - run: |
        cd _toilets
        echo '${{ github.event.inputs.content }}' > ${{ github.event.inputs.filename }}.json
        cat ${{ github.event.inputs.filename }}.json
        
    - uses: EndBug/add-and-commit@v9 # You can change this to use a specific version.
      with:
        add: '*'
        author_name: Rulička[bot]
        author_email: rulicka@deniksracu.cz
        committer_name: Rulička[bot]
        committer_email: rulicka@deniksracu.cz
        message: 'Add ${{ github.event.inputs.filename }}.json toilet'
        new_branch: toilets-for-approve

        # Arguments for the git pull command. By default, the action does not pull.
        # Default: ''
        pull: '--rebase --autostash ...'
